# 如故（as old） - 现实约束文档

> 现实约束是项目必须遵守的硬性限制，通常来自法律、安全、业务等方面。
>
> **核心原则**：
> - **总数限制**：必选约束最多4条，可选约束最多3条，总共不超过7条
> - **关注重点**：侧重AI不太容易想到的事情，在现实世界中会造成破坏的事项
> - **格式要求**：使用XML语义闭合标签

**大多数项目推荐使用这种简洁的写法**，直接列出核心约束：

<real>
- 用户密码必须使用bcrypt或Argon2加密存储，不得明文保存
- 用户个人资料、兴趣爱好等敏感信息必须加密存储和传输
- 匹配推荐算法必须考虑用户隐私设置，未授权不得公开匹配信息
- 向量数据库中的用户嵌入向量必须定期更新和验证准确性
</real>

## 编写建议

1. **安全优先**：涉及用户数据、匹配、认证的约束必须列为必选
2. **合规要求**：法律法规要求的约束必须明确列出
3. **业务规则**：核心业务逻辑的约束要清晰描述
4. **AI友好**：约束描述要让AI能够理解并在代码中实现
5. **避免冗余**：不要列出显而易见的约束（如"代码要能运行"）

## 技术环境

<environment>
<stack>
  前端：Next.js 15 + TypeScript + Tailwind CSS + shadcn/ui
  后端：Bun/Node.js + Milvus向量数据库
  认证：Better Auth
  AI集成：Vercel AI SDK + OpenAI模型
  托管：Vercel/EdgeOne Pages
</stack>
</environment>
